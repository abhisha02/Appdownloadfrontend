{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Navigate}from\"react-router-dom\";import isAuthUser from\"../isAuthUser\";import Loader from\"../Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";const PublicRoute=_ref=>{let{children}=_ref;const[isLoading,setIsLoading]=useState(true);const[isAuthenticated,setIsAuthenticated]=useState(null);const[isAdmin,setisAdmin]=useState(false);useEffect(()=>{const authenticate=async()=>{const authStatus=await isAuthUser();setIsAuthenticated(authStatus.isAuthenticated);// Get user details from localStorage\nconst tokens=localStorage.getItem('tokens');if(tokens){const userData=JSON.parse(tokens);setisAdmin(userData.is_admin);}setTimeout(()=>{setIsLoading(false);},1000);};authenticate();},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(Loader,{})});}if(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:isAdmin?\"/admin/home\":\"/dashboard\"});}return children;};export default PublicRoute;","map":{"version":3,"names":["React","useState","useEffect","Navigate","isAuthUser","Loader","jsx","_jsx","PublicRoute","_ref","children","isLoading","setIsLoading","isAuthenticated","setIsAuthenticated","isAdmin","setisAdmin","authenticate","authStatus","tokens","localStorage","getItem","userData","JSON","parse","is_admin","setTimeout","className","to"],"sources":["D:/AndroidAppdownloadportalApp/Andoridappdownloadfrontend/Appdownload/src/utils/Routes/PublicRoute.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport isAuthUser from \"../isAuthUser\";\r\nimport Loader from \"../Loader\";\r\n\r\nconst PublicRoute = ({ children }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(null);\r\n  const [isAdmin, setisAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const authenticate = async () => {\r\n      const authStatus = await isAuthUser();\r\n      setIsAuthenticated(authStatus.isAuthenticated);\r\n      \r\n      // Get user details from localStorage\r\n      const tokens = localStorage.getItem('tokens');\r\n      if (tokens) {\r\n        const userData = JSON.parse(tokens);\r\n        setisAdmin(userData.is_admin);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        setIsLoading(false);\r\n      }, 1000);\r\n    };\r\n    authenticate();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"h-screen flex items-center justify-center\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isAuthenticated) {\r\n    return <Navigate to={isAdmin ? \"/admin/home\" : \"/dashboard\"} />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default PublicRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,UAAU,KAAM,eAAe,CACtC,MAAO,CAAAC,MAAM,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACY,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,UAAU,CAAG,KAAM,CAAAd,UAAU,CAAC,CAAC,CACrCU,kBAAkB,CAACI,UAAU,CAACL,eAAe,CAAC,CAE9C;AACA,KAAM,CAAAM,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAIF,MAAM,CAAE,CACV,KAAM,CAAAG,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACL,MAAM,CAAC,CACnCH,UAAU,CAACM,QAAQ,CAACG,QAAQ,CAAC,CAC/B,CAEAC,UAAU,CAAC,IAAM,CACfd,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CACDK,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIN,SAAS,CAAE,CACb,mBACEJ,IAAA,QAAKoB,SAAS,CAAC,2CAA2C,CAAAjB,QAAA,cACxDH,IAAA,CAACF,MAAM,GAAE,CAAC,CACP,CAAC,CAEV,CAEA,GAAIQ,eAAe,CAAE,CACnB,mBAAON,IAAA,CAACJ,QAAQ,EAACyB,EAAE,CAAEb,OAAO,CAAG,aAAa,CAAG,YAAa,CAAE,CAAC,CACjE,CAEA,MAAO,CAAAL,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}